(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{533:function(t,a,s){t.exports=s.p+"assets/img/5f702cc2160a154a67a1e0d2.26c0dd4f.png"},534:function(t,a,s){t.exports=s.p+"assets/img/5f702cf2160a154a67a1eefd.41aefb98.png"},535:function(t,a,s){t.exports=s.p+"assets/img/5f702ddb160a154a67a221f7.16fb6ee4.png"},536:function(t,a,s){t.exports=s.p+"assets/img/5f702dfa160a154a67a228de.f414e868.png"},537:function(t,a,s){t.exports=s.p+"assets/img/5f702e79160a154a67a2418f.f8c429b6.png"},538:function(t,a,s){t.exports=s.p+"assets/img/5f702ead160a154a67a24d12.f086c41f.png"},539:function(t,a,s){t.exports=s.p+"assets/img/5f702ecd160a154a67a2531e.9c4d099f.png"},540:function(t,a,s){t.exports=s.p+"assets/img/5f702f31160a154a67a26add.b25e2f95.png"},694:function(t,a,s){"use strict";s.r(a);var r=s(28),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("blockquote",[r("p",[t._v("补充，目前 (2021 年 9 月 1 日) 来说，如果没有特殊情况，已经没有必要自己设置 DNS 相关的东西了。")])]),t._v(" "),r("h2",{attrs:{id:"介绍"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://pymumu.github.io/smartdns/",target:"_blank",rel:"noopener noreferrer"}},[t._v("SmartDNS"),r("OutboundLink")],1),t._v(" 是一个运行在本地的 DNS 服务器，SmartDNS 接受本地客户端的 DNS 查询请求，从多个上游 DNS 服务器获取 DNS 查询结果，并将访问速度最快的结果返回给客户端，提高网络访问速度。 同时支持指定特定域名 IP 地址，并高性匹配，达到过滤广告的效果。")]),t._v(" "),r("h2",{attrs:{id:"使用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),r("h3",{attrs:{id:"设置上游"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#设置上游"}},[t._v("#")]),t._v(" 设置上游")]),t._v(" "),r("p",[t._v("打开 SmartDNS 设置，添加上游。")]),t._v(" "),r("p",[r("img",{attrs:{src:s(533),alt:""}})]),t._v(" "),r("p",[t._v("上游服务器选择质量高的，不要贪多，质量不行，再多也没用，推荐在 8 个以内，不要超过 10 个。")]),t._v(" "),r("p",[t._v("设置完成后点击保存，先不要应用。")]),t._v(" "),r("h3",{attrs:{id:"修改设置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#修改设置"}},[t._v("#")]),t._v(" 修改设置")]),t._v(" "),r("p",[r("img",{attrs:{src:s(534),alt:""}})]),t._v(" "),r("p",[t._v("一般按照上图设置即可 缓存时间和 TTL 可以根据你的路由器性能来改。")]),t._v(" "),r("p",[t._v("设置完成后点击  "),r("code",[t._v("保存并应用")]),t._v("  即可。")]),t._v(" "),r("p",[t._v("因为是设置为 dnsmasq 的上游，我们可以在 dnsmasq 那里看一下设置对不对，正常可以看到。")]),t._v(" "),r("p",[r("img",{attrs:{src:s(535),alt:""}})]),t._v(" "),r("p",[t._v("转发设置的第一条，被转到了 smartdns 的端口上。")]),t._v(" "),r("h2",{attrs:{id:"passwall-smartdns"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#passwall-smartdns"}},[t._v("#")]),t._v(" Passwall + SmartDNS")]),t._v(" "),r("p",[t._v("首先正常设置国内的上游服务器，接下来设置国外的上游服务器，有几点要注意一下")]),t._v(" "),r("ul",[r("li",[t._v("协议要选择 tcp tls 和 https ，并且要选择支持这些协议的 dns 服务器")]),t._v(" "),r("li",[t._v("添加完成后点击修改，在服务器组那里添加上一个统一的名称")])]),t._v(" "),r("p",[r("img",{attrs:{src:s(536),alt:""}})]),t._v(" "),r("p",[t._v("然后设置第二 DNS 服务器，端口设置为 7913，服务器组填写刚才设置的名称，其他的建议和我的一样。")]),t._v(" "),r("p",[r("img",{attrs:{src:s(537),alt:""}})]),t._v(" "),r("p",[t._v("然后来到 Passwall 设置，直接看图")]),t._v(" "),r("p",[r("img",{attrs:{src:s(538),alt:""}})]),t._v(" "),r("p",[t._v("然后来到访问控制这里，把国内 DNS 的 IP 全部加入白名单，国外 DNS 的 IP 和域名全部加入黑名单（不要光看图，图只是示例）。")]),t._v(" "),r("p",[r("img",{attrs:{src:s(539),alt:""}})]),t._v(" "),r("p",[r("img",{attrs:{src:s(540),alt:""}})]),t._v(" "),r("hr")])}),[],!1,null,null,null);a.default=e.exports}}]);