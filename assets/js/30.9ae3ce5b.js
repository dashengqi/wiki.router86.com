(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{468:function(a,t,v){"use strict";v.r(t);var _=v(15),s=Object(_.a)({},(function(){var a=this,t=a.$createElement,v=a._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[v("h2",{attrs:{id:"条件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#条件"}},[a._v("#")]),a._v(" 条件")]),a._v(" "),v("p",[a._v("两台以上刷了 OpenWRT 系统的路由器，并且两台机器都需要支持 802.11kvr 协议，而且需要较新的固件，并且有  "),v("code",[a._v("wpad-basic")]),a._v(" 。")]),a._v(" "),v("p",[a._v("两台以上机器，全部按照 "),v("RouterLink",{attrs:{to:"/02.软路由/0030.特殊用法/0020.OpenWRT作为AP使用.html"}},[a._v("OpenWRT 作为 AP 使用")]),a._v(" 教程设置为 AP，并将 WIFI 设置为同名。")],1),a._v(" "),v("h2",{attrs:{id:"收集信息"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#收集信息"}},[a._v("#")]),a._v(" 收集信息")]),a._v(" "),v("p",[a._v("先打开一个记事本，等下要记的东西全写到记事本里，拷贝方便。")]),a._v(" "),v("p",[a._v("首先是打开每台路由器的后台，查看 BSSID，并记录下")]),a._v(" "),v("p",[v("img",{attrs:{src:"/img/item/5fbd1877b18d6271134e6b77.png",alt:""}})]),a._v(" "),v("blockquote",[v("p",[a._v("为了方便，我们直接拿 bssid 来生成 nasid，也就是内容一致，去掉冒号。")])]),a._v(" "),v("table",[v("thead",[v("tr",[v("th",[a._v("信息项")]),a._v(" "),v("th",[a._v("路由器 1")]),a._v(" "),v("th",[a._v("路由器 2")]),a._v(" "),v("th",[a._v("备注")])])]),a._v(" "),v("tbody",[v("tr",[v("td",[a._v("bssid")]),a._v(" "),v("td",[v("code",[a._v("14:3D:F2:CC:**:**")])]),a._v(" "),v("td",[v("code",[a._v("8C:AB:8E:B8:**:**")])]),a._v(" "),v("td")]),a._v(" "),v("tr",[v("td",[a._v("nasid")]),a._v(" "),v("td",[v("code",[a._v("143DF2CC****")])]),a._v(" "),v("td",[v("code",[a._v("8CAB8EB8****")])]),a._v(" "),v("td",[a._v("上面的 bssid 去掉冒号")])])])]),a._v(" "),v("p",[a._v("配置 802.11r 需要生成一个 32 位的 16 进制字符串，安全考虑，建议自行生成不要复制别人的")]),a._v(" "),v("p",[a._v("我是直接在 WSL 中的 ubuntu 用 xxd 命令生成一个：")]),a._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[a._v("xxd -l "),v("span",{pre:!0,attrs:{class:"token number"}},[a._v("16")]),a._v(" -p /dev/random\n")])]),a._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[a._v("1")]),v("br")])]),v("p",[v("img",{attrs:{src:"/img/item/5fbd1a95b18d6271134f1c33.png",alt:""}})]),a._v(" "),v("p",[a._v("按照 bssid,nasid, 密钥 的格式生成 r0kh 配置：")]),a._v(" "),v("ul",[v("li",[v("code",[a._v("14:3D:F2:CC:**:**,143DF2CC****,ca545afdabeac7550286b1a43b2b3e9a")])]),a._v(" "),v("li",[v("code",[a._v("8C:AB:8E:B8:**:**,8CAB8EB8****,ca545afdabeac7550286b1a43b2b3e9a")])])]),a._v(" "),v("p",[a._v("按照 bssid,bssid, 密钥 的格式生成 r1kh 配置：")]),a._v(" "),v("ul",[v("li",[v("code",[a._v("14:3D:F2:CC:**:**,14:3D:F2:CC:**:**,ca545afdabeac7550286b1a43b2b3e9a")])]),a._v(" "),v("li",[v("code",[a._v("8C:AB:8E:B8:**:**,8C:AB:8E:B8:**:**,ca545afdabeac7550286b1a43b2b3e9a")])])]),a._v(" "),v("p",[a._v("配置开启 802.11kvr")]),a._v(" "),v("p",[a._v("在无线安全选项卡中，按照上面记录的值设置，两台机器都需要设置。")]),a._v(" "),v("ul",[v("li",[a._v("NAS ID，前面记录的值，需要与本机的 bssid 对应")]),a._v(" "),v("li",[a._v("R1 密钥持有者，与上面的 nasid 一样")]),a._v(" "),v("li",[a._v("R1 推送 PMK，勾选上")]),a._v(" "),v("li",[a._v("外部 R0KH 列表，前面记录的")]),a._v(" "),v("li",[a._v("外部 R1KH 列表，前面记录的")])]),a._v(" "),v("p",[a._v("如果有更多的 AP 需要接入，就是再添加 R0KH 列表和 R0KH 列表。")]),a._v(" "),v("p",[v("img",{attrs:{src:"/img/item/5fbd1d0ab18d6271134fef5a.png",alt:""}})]),a._v(" "),v("p",[v("img",{attrs:{src:"/img/item/5fbd1d0ab18d6271134fef5c.png",alt:""}})]),a._v(" "),v("h2",{attrs:{id:"测试"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[a._v("#")]),a._v(" 测试")]),a._v(" "),v("p",[v("img",{attrs:{src:"/img/item/5fbd202fb18d62711350dffa.png",alt:""}})]),a._v(" "),v("h2",{attrs:{id:"参考"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[a._v("#")]),a._v(" 参考")]),a._v(" "),v("p",[a._v("https://post.smzdm.com/p/aoo866l7/")]),a._v(" "),v("hr")])}),[],!1,null,null,null);t.default=s.exports}}]);